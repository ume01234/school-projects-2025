# 距離によって変容する曼荼羅構造のインタラクティブ作品

観客と作品との距離を入力として、視覚表現および音響が三段階に遷移するインタラクティブ作品。密教における**曼荼羅（Mandala）**、特に**胎蔵界曼荼羅**における蓮華・中心性・生成の思想を参照。「ミャクミャク」を想起させる青い瞳孔の"目"と、ピンク基調の"蓮華"を組み合わせ、鑑賞者との距離に応じて **FAR / MIDDLE / NEAR** の3状態を持つ体験型作品。

---

## 仏教的背景

曼荼羅は、単なる図像ではなく、**悟りへ至る過程や宇宙の構造を可視化した思惟の装置**である。

胎蔵界曼荼羅は、生成・包摂・慈悲、そして潜在的な仏性（如来蔵）を象徴する曼荼羅であり、中心には**大日如来**が位置する。

本作における「中央の目」は、人格的な神の表象ではなく、**遍在する知覚・照覧（照見）そのもの**として設計されている。

---

## 三つの状態と思想的対応

観客との距離に応じて以下の三状態を取る。

### 遠い状態 (FAR)
- **視覚**: 蓮華と目が融合した曼荼羅的構造が中心に静止し、観客をゆっくりと追う
- **挙動**: 動きと音は最小限に抑えられる
- **思想**: **曼荼羅を外在的・象徴的に眺めている段階**に相当
  - **大日如来**: 宇宙そのもの、真理そのものの象徴としての中心的存在
  - **蓮華**: 悟り・清浄・完成の象徴として保たれた構造
  - **定（じょう）**: 心が一つに定まり、乱れない状態。観客は「見る主体」として安全な位置にいる
  - 仏はまだ「外部の対象」として存在し、観客は仏を眺める側として関与しない

### 中間状態 (MIDDLE)
- **視覚**: 中央の融合体が微妙に位相をずらして運動、周囲に複数の目が出現し、視線が分散
- **挙動**: 蓮華と目は同じ円軌道上を動くが、周期をわずかにずらす
- **思想**: **認識が対象に巻き込まれ始める状態**を示す
  - **中道**: 完全な静でも完全な崩壊でもない、どちらにも確定しない状態そのもの
  - **無常**: すべては変化し続ける。「完成しているはずの形」が、実は常に揺らいでいることが露呈
  - **縁起**: 蓮華・目・音・観客の距離が互いに影響し合い、一部の変化が全体を引きずる
  - **煩悩・執着**: 見ること、近づくことへの欲求。目は観客を見ようとし、同時に迷う

### 近い状態 (NEAR)
- **視覚**: 蓮華は背景化し、目が自律的な生命体（赤いスライム状の身体を持つ）として増殖・融合を繰り返す
- **挙動**: 5体の生命体が自由に移動し、重なると融合して別の場所で新たに生成される
- **思想**: **煩悩・身体性・生成そのもの**が前景化
  - **執着**: 見たい、知りたい、近づきたいという欲望。観客が近づくほど、世界は秩序を失う
  - **苦**: 執着の結果として現れる不快。この状態は「罰」ではなく、**必然的帰結**としての崩壊
  - **無我**: 固定された自己・実体は存在しない。目も蓮華も、「一つの存在」として成立できなくなる
  - **空**: すべては固定的実体を持たない。形が壊れた後に残るのは、「もともと何も固定されていなかった」という事実のみ
  - **主客の反転**: 観る者が世界を壊している。仏はもはや外部の象徴ではなく、観客自身の行為によって立ち現れる現象となる

---

## 音響表現

音はすべて制作者自身の身体音を録音・加工したもので構成され、各状態でループ再生される。

- **FAR**: 低音の持続音（読経や声明を想起させる基調）
- **MIDDLE**: 有機的な異音（秩序の揺らぎ）
- **NEAR**: 生々しい摩擦音（身体性の露出）

視覚的遷移と同期し、**象徴 → 揺らぎ → 身体**への移行を音響面から補強している。

---

## 実装内容

### 入力・検出
- **距離入力**: カメラによる顔認識で実距離をリアルタイム取得（デモ時はサイン波も使用可能）
- **位置検出**: 観客の顔位置を検出し、中央の目の視線追従に使用

### 視覚要素
- **色**: 背景は赤（`#CC0000`）、瞳孔は青（`#0066DD`）、蓮華はピンク基調
- **デバッグ**: 画面左上に距離と状態を表示（`DEBUG_OVERLAY`でON/OFF）

### 技術的特徴
- 目のレンダリング: WEBGLシェーダーを使用
- 華のレンダリング: 2Dグラフィックスを使用
- 2パスレンダリング: 目と華を別々のバッファに描画し、合成

---

## モチーフと参照元

- **ミャクミャク**: 現代日本における象徴的キャラクターを、有機性・増殖性・視線性のモチーフとして再解釈
- **曼荼羅（Mandala）**: 特に胎蔵界曼荼羅の構造を参照し、中心性・包摂・生成の思想を空間構成に反映
- **真言宗（密教）**: 曼荼羅を「鑑賞物」ではなく、悟りへの過程を示す実践的構造として捉える立場を採用
- **仏教思想**: 如来蔵思想、煩悩即菩提、象徴と身体の往還といった概念を、状態遷移として表現
- **大日如来**: 人格神ではなく、遍在する原理・知覚・照覧の象徴として中央構造に反映

これら異なる文脈の素材を重ね合わせることで、宗教的図像と現代的キャラクター、秩序と有機性の間にある緊張関係を可視化している。

---

## 技術スタック

- **p5.js**: グラフィックスとインタラクション（WEBGL使用は目のシェーダー用グラフィックス内）
- **ml5.js**: 顔認識（FaceMesh）
- **p5.sound**: 音響制御
- **JavaScript / HTML / CSS**

### 主要モジュール

- `eye/eye.js`: 目のシェーダー描画（青い瞳孔、放射状の虹彩）
- `eye/flower.js` + `eye/petal.js`: 蓮華の生成（ピンク基調）
- `eye/eyeFlower.js`: 目＋蓮華を統合しテクスチャ合成するモジュール
- `eye/main.js`: 状態管理、描画、カメラ入力、顔認識の統合
- `eye/index.html`: エントリーポイント

---

## セットアップ

1. VS Code / Cursor で `eye/index.html` を Live Server で開く
2. ブラウザでカメラの使用許可を求められるので、許可する
3. 顔が検出されると、距離に応じて状態が遷移する
4. デバッグ表示を消したい場合は `eye/main.js` の `DEBUG_OVERLAY` を `false` に設定

### リポジトリ構成

```
assets/
  └─ sounds/          # 音源ファイル（sound_far.mp3, sound_middle.mp3, sound_near.mp3）
eye/
  ├─ index.html       # エントリーポイント
  ├─ main.js          # 状態管理と描画、カメラ入力統合
  ├─ eyeFlower.js     # 目＋蓮華の統合モジュール
  ├─ eye.js           # 目（シェーダー含む）
  ├─ flower.js        # 蓮華
  ├─ petal.js         # 花びらヘルパー
  └─ eye.glsl         # 目のシェーダー
not-used/             # 旧構成（未使用）
README.md             # 本ファイル
Buddhism-three-states.md  # 思想的な参照資料
```

### 開発メモ

- **距離計算**: `getDistanceFromFace()` で顔サイズから距離を推定（`FACE_SIZE_NEAR`, `FACE_SIZE_FAR` で閾値を設定）
- **状態判定**: `getStateFromDistance()` に集約（閾値 `THRESH_NEAR`, `THRESH_MIDDLE`）
- **デモモード**: `DEMO_MODE = true` でマウス入力とサイン波による距離シミュレーションが可能
